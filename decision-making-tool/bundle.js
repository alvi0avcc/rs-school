(()=>{"use strict";var t={45:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var i=n(72),o=n.n(i),r=n(825),a=n.n(r),s=n(659),l=n.n(s),c=n(56),d=n.n(c),h=n(540),u=n.n(h),f=n(113),p=n.n(f),g=n(894),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=u(),o()(g.A,m);const v=g.A&&g.A.locals?g.A.locals:void 0},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var r={},a=[],s=0;s<t.length;s++){var l=t[s],c=i.base?l[0]+i.base:l[0],d=r[c]||0,h="".concat(c," ").concat(d);r[c]=d+1;var u=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(f);else{var p=o(f,i);i.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var r=i(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var s=n(r[a]);e[s].references--}for(var l=i(t,o),c=0;c<r.length;c++){var d=n(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},156:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(675)),r=i(n(391)),a=document.createElement("link");a.rel="icon",a.type="image/x-icon",a.href=r.default,document.head.append(a),(new o.default).start()},167:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0;class i{constructor(){this.defaultKeyList="option-list",this.defaultList={id:0,title:"",weight:void 0},this.list={listOptions:[this.defaultList],lastId:0}}static getStorage(t){return n(this,void 0,void 0,(function*(){return new Promise((e=>{const n=localStorage.getItem(t);console.log("storageGet =",n),e(null===n?void 0:n)}))}))}static setStorage(t,e){localStorage.setItem(t,e)}static pasteOption(t){const e=t.split("\n"),n=[];for(const t of e){const e=t.lastIndexOf(",");let i,o=t;-1===e?o.length>0&&n.push([o,void 0]):(o=t.slice(0,e).trim(),i=t.slice(e+1).trim(),(o.length>0||i.length>0)&&n.push([o,Number(i)||void 0]))}return n}saveStorageToFile(){const t=new Blob([JSON.stringify(this.list)],{type:"application/json"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="test.json",n.click(),URL.revokeObjectURL(e)}getList(){return this.list}setList(t){this.list=t,i.setStorage(this.defaultKeyList,JSON.stringify(this.list))}init(){return n(this,void 0,void 0,(function*(){return yield Promise.all([this.getStorageList(),this.getStorageList()])}))}setStorageList(){i.setStorage(this.defaultKeyList,JSON.stringify(this.list))}getStorageList(){return n(this,void 0,void 0,(function*(){try{const t=yield i.getStorage(this.defaultKeyList);return t?(this.list=JSON.parse(t),console.log("list =",this.list)):(this.list.lastId=1,this.setStorageList()),!0}catch(t){return console.error("Error fetching storage:",t),!1}}))}}e.Storage=i},275:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var i=n(72),o=n.n(i),r=n(825),a=n.n(r),s=n(659),l=n.n(s),c=n(56),d=n.n(c),h=n(540),u=n.n(h),f=n(113),p=n.n(f),g=n(424),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=u(),o()(g.A,m);const v=g.A&&g.A.locals?g.A.locals:void 0},283:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.onHashChange=t,this.init()}init(){globalThis.addEventListener("hashchange",(()=>this.handleRouting())),globalThis.addEventListener("load",(()=>this.handleRouting()))}handleRouting(){const t=globalThis.location.hash.slice(1)||"/";console.log("currentHash=",t);try{this.onHashChange(t)}catch(t){console.error("Error in onHashChange:",t)}}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);i&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},362:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(601),o=n.n(i),r=n(314),a=n.n(r)()(o());a.push([t.id,':root {\n  --transition-duration: .25s;\n  --color-lime: #0f0;\n  --color-primary-50: #e6f4f4;\n  --color-primary-100: #cce8e8;\n  --color-primary-200: #99d1d1;\n  --color-primary-300: #66baba;\n  --color-primary-400: #33a3a3;\n  --color-primary-500: #008c8c;\n  --color-primary-600: #007070;\n  --color-primary-700: #005454;\n  --color-primary-800: #003838;\n  --color-primary-900: #001c1c;\n}\n\n*,\n::before,\n::after {\n  box-sizing: border-box;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  min-height: 100dvh;\n  margin: 0;\n\n  font-family: Inter, "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  color: var(--color-primary-50);\n\n  background-color: var(--color-primary-500);\n\n  transition: opacity ease-in 0.2s;\n}',""]);const s=a},379:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"src/assets/icon.svg"},391:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"src/assets/favicon.png"},424:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(601),o=n.n(i),r=n(314),a=n.n(r)()(o());a.push([t.id,'.main {\n  display: flex;\n    flex-direction: column;\n    gap: 1rem;\n\n    width: 100%;\n    max-width: 48rem;\n    margin-inline: auto;\n    padding: 1rem;\n}\n\n.h1 {\n  color: var(--color-primary-50);\n  text-align: center;\n  text-shadow: 0 0 .25rem var(--color-primary-50);\n}\n\n:is(h1, h2, h3, h4, h5, h6, p, ul, ol) {\n  margin-block: 0;\n}\n\n.section {\n  display: grid;\n  grid-template:\n    "back-button sound-button duration-label" 1fr\n    "pick-button pick-button pick-button" 1fr / 1fr 1fr;\n  gap: .5rem;\n\n  margin-inline: auto;\n\n  transition-duration: var(--transition-duration);\n}\n\n.svg{\n  width: 24px;\n  height: 24px;\n}\n\n.btn_undo {\n  grid-area: back-button;\n}\n\n.btn_sound {\n  grid-area: sound-button;\n}\n\n.btn_start {\n  grid-area: pick-button;\n}\n\n.form_timer {\n  cursor: pointer;\n\n  display: flex;\n  grid-area: duration-label;\n  gap: .5rem;\n  align-items: center;\n\n  padding-left: .5rem;\n  border-radius: .25rem;\n\n  color: var(--color-primary-50);\n\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n}\n\n.p {\n  overflow-x: hidden;\n\n  width: 100%;\n  max-width: 24rem;\n  margin-inline: auto;\n  padding: .5rem;\n\n  font-weight: 500;\n  text-align: center;\n  text-overflow: ellipsis;\n  text-shadow: 0 0 .15rem var(--color-primary-50);\n  text-wrap: nowrap;\n\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-300);\n\n  transition-duration: var(--transition-duration);\n  transition-property: box-shadow;\n}\n\n.canvas {\n  aspect-ratio: auto 512 / 512;\n  max-width: 100%;\n  margin-inline: auto;\n  border: 1px solid blue; /* for dev */\n}\n\n.button {\n  cursor: pointer;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 0.5rem;\n  border-color: initial;\n  border-style: none;\n  border-width: initial;\n  border-radius: 0.25rem;\n  border-image: initial;\n\n  color: var(--color-primary-50);\n\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n\n  transition-duration: var(--transition-duration);\n  transition-property: filter, box-shadow, opacity;\n}\n',""]);const s=a},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},675:function(t,e,n){var i,o,r,a,s,l,c,d,h,u,f,p,g=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,o)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),m=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v=this&&this.__importStar||(i=function(t){return i=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},i(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=i(t),o=0;o<n.length;o++)"default"!==n[o]&&g(e,t,n[o]);return m(e,t),e}),b=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},w=this&&this.__classPrivateFieldSet||function(t,e,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,n):o?o.value=n:e.set(t,n),n},y=this&&this.__classPrivateFieldGet||function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},k=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(821);const x=n(167),O=k(n(283)),S=k(n(915)),_=n(915),C=v(n(981)),M=k(n(875));o=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap,e.default=class{constructor(){var t;o.set(this,void 0),r.set(this,void 0),a.set(this,void 0),s.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),h.set(this,void 0),u.set(this,void 0),f.set(this,void 0),p.set(this,void 0),w(this,o,new x.Storage,"f"),w(this,p,"/","f"),w(this,c,document.body,"f"),w(this,a,new S.default((t=>this.onHashChange(t)),((t,e)=>this.onOptionsChange(t,e)),y(this,r,"f")),"f"),w(this,s,new C.default((t=>this.onHashChange(t)),((t,e)=>this.onMakeChange(t,e)),null===(t=y(this,r,"f"))||void 0===t?void 0:t.listOptions),"f"),w(this,l,new M.default((t=>this.onHashChange(t))),"f"),w(this,f,new O.default((t=>this.onHashChange(t))),"f")}start(){return b(this,void 0,void 0,(function*(){const t=yield y(this,o,"f").init();return w(this,r,y(this,o,"f").getList(),"f"),console.log("listOptions =",y(this,r,"f")),y(this,a,"f").setListOptions(y(this,r,"f")),this.createView(),t}))}createView(){var t;"/"===y(this,p,"f")&&(w(this,d,y(this,a,"f").getView(),"f"),y(this,d,"f")&&y(this,c,"f").append(y(this,d,"f")),y(this,h,"f")&&y(this,h,"f").remove(),y(this,u,"f")&&y(this,u,"f").remove()),"/picker"===y(this,p,"f")&&(y(this,s,"f").setListOptions(null===(t=y(this,r,"f"))||void 0===t?void 0:t.listOptions),w(this,h,y(this,s,"f").getView(),"f"),y(this,h,"f")&&y(this,c,"f").append(y(this,h,"f")),y(this,d,"f")&&y(this,d,"f").remove(),y(this,u,"f")&&y(this,u,"f").remove()),"/404"===y(this,p,"f")&&(w(this,u,y(this,l,"f").getView(),"f"),y(this,u,"f")&&y(this,c,"f").append(y(this,u,"f")),y(this,d,"f")&&y(this,d,"f").remove(),y(this,h,"f")&&y(this,h,"f").remove())}onMakeChange(t,e){switch(t){case C.MakeRule.sound:console.log("sound"),console.log(e),console.log(y(this,p,"f"));break;case C.MakeRule.timer:console.log("timer");break;case C.MakeRule.run:console.log("run")}}onHashChange(t){switch(w(this,p,t,"f"),console.log("Hash changed to:",t),t){case"/":history.pushState({page:"#/"},"","#/");break;case"/picker":history.pushState({page:"#/picker"},"","#/picker");break;default:history.pushState({page:"#/404"},"","#/404"),console.log("error 404"),w(this,p,"/404","f")}this.createView()}onOptionsChange(t,e){var n,i,s,l,c;switch(console.log("storage clicked"),t){case _.OptionRule.add:{const t=(null===(n=y(this,r,"f"))||void 0===n?void 0:n.lastId)||0;null===(i=y(this,r,"f"))||void 0===i||i.listOptions.push({id:t+1,title:"",weight:void 0}),y(this,r,"f")&&(y(this,r,"f").lastId=t+1);break}case _.OptionRule.updateTitle:if(y(this,r,"f")){const t=JSON.parse(e),n=y(this,r,"f").listOptions.findIndex((e=>e.id===t.id));-1!==n&&(y(this,r,"f").listOptions[n].title=`${t.value}`)}break;case _.OptionRule.updateWeight:if(y(this,r,"f")){const t=JSON.parse(e);console.log(t),""===t.value&&(t.value=void 0);const n=y(this,r,"f").listOptions.findIndex((e=>e.id===t.id));-1!==n&&(y(this,r,"f").listOptions[n].weight=t.value?+t.value:void 0)}break;case _.OptionRule.del:(null===(s=y(this,r,"f"))||void 0===s?void 0:s.listOptions)&&(y(this,r,"f").listOptions=null===(l=y(this,r,"f"))||void 0===l?void 0:l.listOptions.filter((t=>t.id!==+e))),0===(null===(c=y(this,r,"f"))||void 0===c?void 0:c.listOptions.length)&&(y(this,r,"f").lastId=0);break;case _.OptionRule.paste:if(y(this,r,"f")){if(console.log("dialog open"),"open"===e&&y(this,a,"f").dialogShow(),"open"!==e){console.log("paste");const t=x.Storage.pasteOption(e);if(t.length>0){console.log("paste options =",t);for(const e of t)console.log(e),y(this,r,"f").listOptions.push({id:y(this,r,"f").lastId+1,title:e[0],weight:e[1]}),y(this,r,"f").lastId++}}break}case _.OptionRule.clear:y(this,r,"f")&&(y(this,r,"f").listOptions=[],y(this,r,"f").lastId=0);break;case _.OptionRule.save:y(this,r,"f")&&y(this,o,"f").saveStorageToFile();break;case _.OptionRule.load:if(y(this,r,"f")){const t=JSON.parse(e);w(this,r,t,"f")}}y(this,r,"f")&&(y(this,o,"f").setList(y(this,r,"f")),t!==_.OptionRule.updateTitle&&t!==_.OptionRule.updateWeight&&t!==_.OptionRule.save&&(y(this,a,"f").setListOptions(y(this,r,"f")),this.createView()))}}},821:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var i=n(72),o=n.n(i),r=n(825),a=n.n(r),s=n(659),l=n.n(s),c=n(56),d=n.n(c),h=n(540),u=n.n(h),f=n(113),p=n.n(f),g=n(362),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=u(),o()(g.A,m);const v=g.A&&g.A.locals?g.A.locals:void 0},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},875:function(t,e,n){var i,o,r=this&&this.__classPrivateFieldSet||function(t,e,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,n):o?o.value=n:e.set(t,n),n},a=this&&this.__classPrivateFieldGet||function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=s(n(919));i=new WeakMap,o=new WeakMap,e.default=class{constructor(t){i.set(this,void 0),o.set(this,void 0),this.onHashChange=t,r(this,i,new l.default,"f"),r(this,o,a(this,i,"f").section("main"),"f"),this.createMain()}getView(){if(a(this,o,"f"))return a(this,o,"f")}createMain(){const t=[a(this,i,"f").label("h1","","Something went wrong"),a(this,i,"f").button("back-main","Back to main",(()=>{console.log("Back to main clicked!"),history.pushState({page:"/"},"","#/"),this.onHashChange("/")}),["button"])];return a(this,o,"f").append(...t),a(this,o,"f")}}},894:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(601),o=n.n(i),r=n(314),a=n.n(r)()(o());a.push([t.id,'.main.main-page {\n  display: grid;\n  grid-template:\n    "heading heading" min-content\n    "option-list option-list" min-content\n    "add-option-button add-option-button" min-content\n    "paste-list-button paste-list-button" min-content\n    "clear-list-button clear-list-button" min-content\n    "save-list-button load-list-button" min-content\n    "start-button start-button" min-content / 1fr 1fr;\n  gap: 1rem;\n\n  width: 100%;\n  max-width: 48rem;\n  margin-inline: auto;\n  padding: 1rem;\n}\n\n.h1 {\n  unicode-bidi: isolate;\n  display: block;\n  grid-area: heading;\n\n  margin-block: 0.67em;\n  margin-inline: 0;\n\n  font-size: 2em;\n  font-weight: bold;\n  color: var(--color-primary-50);\n  text-align: center;\n  text-shadow: 0 0 .25rem var(--color-primary-50);\n}\n\n:is(h1, h2, h3, h4, h5, h6, p, ul, ol) {\n  margin-block: 0;\n}\n\n.ul {\n  unicode-bidi: isolate;\n  display: flex;\n  display: block;\n  grid-area: option-list;\n  flex-direction: column;\n  gap: 0.5rem;\n\n  margin-block: 1em;\n  margin-inline: 0;\n  padding-left: 0;\n  padding-inline-start: 40px;\n\n  list-style-type: disc;\n}\n\n.li {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n\n  padding: 0.6rem 0.8rem;\n  border-radius: 0.5rem;\n\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n}\n\n.label {\n  cursor: pointer;\n\n  flex-shrink: 0;\n\n  width: 3rem;\n  padding: 0.5rem;\n  border-radius: 0.2rem;\n\n  text-align: center;\n\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n}\n\n.input_title {\n  flex-grow: 1;\n  width: 100%;\n  min-width: 5rem;\n}\n\n.input_weight {\n  max-width: 5rem;\n}\n\n:is(.input_title, .input_weight) {\n  padding: 0.5rem;\n  border-color: initial;\n  border-style: none;\n  border-width: initial;\n  border-image: initial;\n\n  line-height: normal;\n  color: var(--color-primary-50);\n\n  background-color: var(--color-primary-800);\n  outline: none;\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n\n  transition-duration: var(--transition-duration);\n  transition-property: box-shadow;\n}\n\n.button {\n  cursor: pointer;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 0.5rem;\n  border-color: initial;\n  border-style: none;\n  border-width: initial;\n  border-radius: 0.25rem;\n  border-image: initial;\n\n  color: var(--color-primary-50);\n\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n\n  transition-duration: var(--transition-duration);\n  transition-property: filter, box-shadow, opacity;\n}\n\n.add-option-button{\n  grid-area: add-option-button;\n}\n\n.paste-list-button {\n  grid-area: paste-list-button;\n}\n\n.clear-list-button {\n  grid-area: clear-list-button;\n}\n\n.save-list-button {\n  grid-area: save-list-button;\n}\n\n.load-list-button {\n  grid-area: load-list-button;\n}\n\n.start-button {\n  grid-area: start-button;\n}\n\n.section.option-list{\n  grid-template: unset;\n  grid-area: option-list;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n}\n\n.dialog{\n  overflow: unset;\n  padding: 0;\n  border: unset;\n  background: unset;\n  width: 600px;\n  height: 500px;\n  max-width: 95%;\n}\n\n.dialog::backdrop {\n  -webkit-backdrop-filter: blur(.1875rem);\n  backdrop-filter: blur(.1875rem);\n  transition-duration: var(--transition-duration);\n  transition-property: backdrop-filter;\n}\n\n.form-dialog {\n  display: grid;\n  height: min-content;\n  grid-template:\n    "textarea textarea" min-content\n    "cancel confirm" min-content / 1fr 1fr;\n  gap: 1rem;\n  padding: 1rem;\n  border-radius: .5rem;\n  background-image: linear-gradient(var(--color-primary-300), var(--color-primary-700));\n  box-shadow: 0 0 .25rem .1rem var(--color-primary-200);\n}\n\n.text-csv{\n  resize: none;\n  height: 300px;\n  grid-area: textarea;\n  padding: .5rem;\n  font-family: Victor Mono, Courier New, Courier, monospace;\n  color: var(--color-primary-50);\n  background-color: var(--color-primary-800);\n}\n\n:is(body, .scrollbar)::-webkit-scrollbar {\n  width: .6rem;\n  height: .6rem;\n}\n\n.btn-cancel {\n  grid-area: cancel;\n}\n\n.btn-confirm {\n  grid-area: confirm;\n}',""]);const s=a},915:function(t,e,n){var i,o,r,a,s,l=this&&this.__classPrivateFieldSet||function(t,e,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,n):o?o.value=n:e.set(t,n),n},c=this&&this.__classPrivateFieldGet||function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.OptionRule=void 0,n(45);const h=d(n(919));var u;!function(t){t[t.add=0]="add",t[t.del=1]="del",t[t.paste=2]="paste",t[t.clear=3]="clear",t[t.save=4]="save",t[t.load=5]="load",t[t.updateTitle=6]="updateTitle",t[t.updateWeight=7]="updateWeight"}(u||(e.OptionRule=u={})),i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,e.default=class{constructor(t,e,n){i.set(this,void 0),o.set(this,void 0),r.set(this,void 0),a.set(this,void 0),s.set(this,void 0),this.onHashChange=t,this.onOptionsChange=e,l(this,i,n,"f"),l(this,o,new h.default,"f"),l(this,r,c(this,o,"f").section("main"),"f"),l(this,s,"","f"),l(this,a,c(this,o,"f").dialog(),"f"),this.createDialog(),this.createMain()}setText(t){l(this,s,t,"f")}getText(){return c(this,s,"f")}getView(){if(c(this,r,"f"))return c(this,r,"f")}dialogShow(){c(this,a,"f").open||c(this,a,"f").showModal()}dialogClose(){c(this,a,"f").close()}setListOptions(t){l(this,i,t,"f"),console.log(c(this,i,"f")),this.createMain()}createDialog(){c(this,a,"f").classList.add("dialog");const t=c(this,o,"f").form("form-dialog");t.classList.add("form-dialog");const e=c(this,o,"f").textArea();e.classList.add("text-csv"),e.placeholder="\n      Paste a list of new options in a CSV-like format:\n\n      title,1                 -> | title                 | 1 |\n      title with whitespace,2 -> | title with whitespace | 2 |\n      title , with , commas,3 -> | title , with , commas | 3 |\n      title with &quot;quotes&quot;,4   -> | title with &quot;quotes&quot;   | 4 |\n    ";const n=c(this,o,"f").button("btn-cancel","Cancel",(()=>{console.log("Button1 clicked!"),this.dialogClose()}),["button","btn-cancel"],"reset"),i=c(this,o,"f").button("btn-confirm","Confirm",(()=>{console.log("btn-confirm clicked!"),this.onOptionsChange(u.paste,e.value),this.dialogClose()}),["button","btn-confirm"],"reset");t.append(e,n,i),c(this,a,"f").append(t)}createMain(){const t=c(this,o,"f").label("label","label-load","Load list from file");t.setAttribute("for","load-input"),t.classList.add("button","load-list-button"),t.classList.remove("label");const e=c(this,o,"f").input("input","load-input","file","",(t=>{if(console.log("load clicked!"),t.target instanceof HTMLInputElement){const e=t.target.files;e&&e.length>0?e[0].text().then((t=>{this.onOptionsChange(u.load,t)})).catch((t=>{console.error("Error reading file:",t)})):console.error("No file selected")}else console.error("Event target is not an input element")}));e.setAttribute("accept",".json"),e.setAttribute("hidden","");const n=[c(this,o,"f").label("h1","","Decision Making Tool"),this.createListOption()||c(this,o,"f").section("div"),c(this,o,"f").button("btn1","Add Option",(()=>{console.log("Button1 clicked!"),this.onOptionsChange(u.add,"")}),["button","add-option-button"]),c(this,o,"f").button("btn2","Paste list",(()=>{console.log("Button2 clicked!"),this.onOptionsChange(u.paste,"open")}),["button","paste-list-button"]),c(this,o,"f").button("btn3","Clear list",(()=>{console.log("Button3 clicked!"),this.onOptionsChange(u.clear,"")}),["button","clear-list-button"]),c(this,o,"f").button("btn4","Save list to file",(()=>{console.log("Button4 clicked!"),this.onOptionsChange(u.save,"")}),["button","save-list-button"]),t,e,c(this,o,"f").button("btn5","Start",(()=>{console.log("Button5 clicked!"),history.pushState({page:"picker"},"","#/picker"),this.onHashChange("/picker")}),["button","start-button"]),c(this,a,"f")];return c(this,r,"f").replaceChildren(),c(this,r,"f").append(...n),c(this,r,"f").classList.add("main-page"),c(this,r,"f")}createListOption(){if(console.log("this.#listOptions =",c(this,i,"f")),!c(this,i,"f"))return;const t=c(this,o,"f").ul();for(const e of c(this,i,"f").listOptions){const n=e.id||0,i=e.title||"",r=void 0===e.weight?"":e.weight.toString(),s=c(this,o,"f").li(),l=c(this,o,"f").label("label",`id-${n.toString()}`,n.toString()),d=c(this,o,"f").input("input",`input-title-${n.toString()}`,"text",i,(t=>{this.onOptionsChange(u.updateTitle,t.target instanceof HTMLInputElement?JSON.stringify({id:n,value:t.target.value}):"")})),h=c(this,o,"f").input("input",`input-weight-${n.toString()}`,"number",`${r}`,(t=>{this.onOptionsChange(u.updateWeight,t.target instanceof HTMLInputElement?JSON.stringify({id:n,value:t.target.value}):"")})),f=c(this,o,"f").button(`btn-del-${n.toString()}`,"Delete",(()=>{console.log("Button del clicked!"),this.onOptionsChange(u.del,n.toString())}),["button"]);s.append(l,d,h,f,c(this,a,"f")),t.append(s)}return t.classList.add("option-list"),t}}},919:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.defaultTag="div"}input(t=this.defaultTag,e="",n="text",i="",o){const r=document.createElement("input");return r.id=e,r.type=n,r.value=i,r.classList.add(t),o&&r.addEventListener("input",(t=>o(t))),r}label(t="label",e="",n=t,i=void 0){const o=this.createElement(t);return o.id=e,o.textContent=n,o.classList.add(t),i&&o.addEventListener("click",(t=>i(t))),o}ul(t="ul",e="",n="",i=void 0){const o=this.createElement(t);return o.id=e,o.textContent=n,o.classList.add(t),i&&o.addEventListener("click",(t=>i(t))),o}li(t="li",e="",n="",i=void 0){const o=this.createElement(t);return o.id=e,o.textContent=n,o.classList.add(t),i&&o.addEventListener("click",(t=>i(t))),o}section(t="section",e="",n="",i=void 0){const o=this.createElement(t);return o.id=e,o.textContent=n,o.classList.add(t),i&&o.addEventListener("click",(t=>i(t))),o}button(t="",e="button",n=void 0,i=[],o="button",r={}){const a=document.createElement("button");a.id=t,a.textContent=this.defaultTag,a.textContent=e,a.type=o,a.classList.add(...i),n&&a.addEventListener("click",(t=>n(t)));for(const[t,e]of Object.entries(r))a.setAttribute(t,e);return a}dialog(t="dialog"){const e=document.createElement("dialog");return e.id=t,e.textContent=this.defaultTag,e.textContent="",e.classList.add("dialog"),e}form(t="form"){const e=document.createElement("form");return e.id=t,e.textContent=this.defaultTag,e.textContent="",e}textArea(t="text-area"){const e=document.createElement("textarea");return e.id=t,e.textContent=this.defaultTag,e.textContent="",e}createElement(t=this.defaultTag){return document.createElement(t)}}},981:function(t,e,n){var i,o,r,a,s=this&&this.__classPrivateFieldSet||function(t,e,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,n):o?o.value=n:e.set(t,n),n},l=this&&this.__classPrivateFieldGet||function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MakeRule=void 0,n(275);const d=c(n(379)),h=c(n(919));var u;!function(t){t[t.sound=0]="sound",t[t.timer=1]="timer",t[t.run=2]="run"}(u||(e.MakeRule=u={})),i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,e.default=class{constructor(t,e,n){i.set(this,void 0),o.set(this,void 0),r.set(this,void 0),a.set(this,void 0),s(this,r,n,"f"),this.onHashChange=t,this.onMakeChange=e,s(this,i,new h.default,"f"),s(this,o,l(this,i,"f").section("main"),"f"),s(this,a,16,"f"),this.createPage()}getView(){if(l(this,o,"f"))return l(this,o,"f")}setListOptions(t){t&&s(this,r,t,"f"),console.log("set picker option =",l(this,r,"f")),l(this,o,"f").replaceChildren(),this.createPage()}createPage(){const t=l(this,i,"f").section(),e=l(this,i,"f").button("btn-undo","",(()=>{console.log("btn-undo clicked!"),history.pushState({page:"/"},"","#/"),this.onHashChange("/")}),["button","btn_undo"]),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","24"),n.setAttribute("height","24");const r=document.createElementNS("http://www.w3.org/2000/svg","use");r.setAttribute("href",`${d.default}#undo-2`),n.append(r),e.append(n);const a=l(this,i,"f").button("btn-sound","",(()=>{console.log("btn-sound clicked!"),this.onMakeChange(u.sound,"")}),["button","btn_sound"]),s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("viewBox","0 0 24 24"),s.setAttribute("width","24"),s.setAttribute("height","24");const c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttribute("href",`${d.default}#volume-2`),s.append(c),a.append(s);const h=l(this,i,"f").button("btn-start","",(()=>{console.log("btn-start clicked!"),this.onMakeChange(u.run,"")}),["button","btn_start"]),f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("width","24"),f.setAttribute("height","24");const p=document.createElementNS("http://www.w3.org/2000/svg","use");p.setAttribute("href",`${d.default}#play`),f.append(p),h.append(f);const g=l(this,i,"f").label("label","label");g.classList.add("form_timer"),t.append(e,a,g,h);const m=[l(this,i,"f").label("h1","","Decision Making Tool"),t,l(this,i,"f").label("p","","PRESS START BUTTON"),this.getCanvas()];return l(this,o,"f").append(...m),l(this,o,"f")}cleanedList(){if(console.log(l(this,a,"f")),console.log("picker this.#listOptions =",l(this,r,"f")),l(this,r,"f")){const t=l(this,r,"f").filter((t=>""!==t.title&&void 0!==t.weight));return console.log("cleanedList=",t),t}return[]}getCanvas(){const t=document.createElement("canvas");t.id="canvas",t.classList.add("canvas"),t.width=512,t.height=512;const e=this.cleanedList();return e.length>0&&(console.log("list for canvas"),console.log(l(this,a,"f")),console.log(e),this.drawCanvas(t,e)),t}drawCanvas(t,e){console.log(l(this,a,"f"));const n=t.getContext("2d");n&&(n.font="30px Arial");const i=t.width,o=t.height,r=i/2,s=o/2,c=e.reduce(((t,e)=>t+(e.weight||0)),0);let d=0,h=0;!function t(){if(n){n.imageSmoothingEnabled=!0,n.beginPath(),n.arc(r,s,200,0,2*Math.PI),n.fillStyle="blue",n.fill(),n.strokeStyle="black",n.lineWidth=2,n.stroke(),h=0,n.strokeStyle="red";for(const t of e)if(t.title&&t.weight){h+=t.weight,n.beginPath(),n.moveTo(r,s);const e=2*h*3.14/c+d,i=2*(h-t.weight/2)*3.14/c+d-.1,o=r+200*Math.sin(e),a=s+200*Math.cos(e),l=r+100*Math.sin(i),u=s+100*Math.cos(i);n.lineTo(o,a),n.stroke(),t.weight>=.5&&(n.save(),n.translate(l,u),n.rotate(1.57-i),n.fillStyle="lime",n.fillText(`${t.title}`,0,0),n.restore())}n.beginPath(),n.arc(r,s,30,0,2*Math.PI),n.fillStyle="green",n.fill(),n.strokeStyle="black",n.lineWidth=2,n.stroke()}d-=.01,requestAnimationFrame(t)}()}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0,n(156)})();